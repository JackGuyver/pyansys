

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MAPDL 3D Beam Example &mdash; pyansys 0.42.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery-dataframe.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MAPDL 2D Beam Example" href="mapdl_beam.html" />
    <link rel="prev" title="Cyclic Model Visualization" href="../01-cyclic_results/sector_model.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pyansys
          

          
          </a>

          
            
            
              <div class="version">
                0.42.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">APDL Python Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ansys_control.html">ANSYS APDL Interactive Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ansys_functions.html">ANSYS Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apdl_conversion.html">APDL Conversion Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ansys_examples.html">ANSYS APDL Interactive Control Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">File IO and Visualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ansys_write_archive.html">Reading and Writing ANSYS Archive Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_results.html">Working with a ANSYS Result File (rst)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Archive and Result File Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_km.html">Working with a ANSYS Full File (full)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../loading_emat.html">Working with a ANSYS Element Matrix File (.emat)</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples Gallery</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MAPDL and Result Reader Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#loading-and-visualizing-result-files">Loading and Visualizing Result Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#cyclic-result-analysis">Cyclic Result Analysis</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#ansys-mapdl-examples-using-pyansys">ANSYS MAPDL Examples Using Pyansys</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">MAPDL 3D Beam Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="mapdl_beam.html">MAPDL 2D Beam Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyvista_mesh.html">PyVista Mesh Integration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quality.html">Compute Cell Quality</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyansys</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">MAPDL and Result Reader Examples</a> &raquo;</li>
        
      <li>MAPDL 3D Beam Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/02-mapdl-examples/mapdl_3d_beam.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-02-mapdl-examples-mapdl-3d-beam-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="mapdl-3d-beam-example">
<span id="ref-load-shaft-result"></span><span id="sphx-glr-examples-02-mapdl-examples-mapdl-3d-beam-py"></span><h1>MAPDL 3D Beam Example<a class="headerlink" href="#mapdl-3d-beam-example" title="Permalink to this headline">Â¶</a></h1>
<p>This is a simple example that loads an archive file containing a beam
and then runs a modal analysis using the simplified <code class="docutils literal notranslate"><span class="pre">modal_analysis</span></code>
method.</p>
<img alt="mapdl 3d beam" class="sphx-glr-single-img" src="../../_images/sphx_glr_mapdl_3d_beam_001.png" />
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>2020-07-27 13:14:32,332 [INFO] pyansys.mapdl: CDREAD,db,/home/alex/python/pyansys/pyansys/examples/HexBeam.cdb,,,,

 READ CDWRITE FILE: /home/alex/python/pyansys/pyansys/examples/HexBeam.cdb

 /INPUT FILE= cdread.tmp  LINE=       0

 /INPUT FILE= /home/alex/python/pyansys/pyansys/examples/HexBeam.cdb  LINE=       0
 ANSYS RELEASE 2019 R2           BUILD 19.4      UP20190416       13:35:55

 *** ANSYS - ENGINEERING ANALYSIS SYSTEM  RELEASE                  20.1BETA ***
 DISTRIBUTED ANSYS Mechanical Enterprise

 88888888  VERSION=LINUX x64     13:14:32  JUL 27, 2020 CP=      0.423





 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **

          ***** ANSYS ANALYSIS DEFINITION (PREP7) *****

 ENTER  /SHOW,DEVICE-NAME  TO ENABLE GRAPHIC DISPLAY
 ENTER  FINISH             TO LEAVE PREP7
 PRINTOUT KEY SET TO /GOPR (USE /NOPR TO SUPPRESS)


 ***** ROUTINE COMPLETED *****  CP =         0.429
2020-07-27 13:14:32,333 [INFO] pyansys.mapdl: ESEL,s,ELEM,,5,20,,

 SELECT       FOR ITEM=ELEM COMPONENT=
  IN RANGE         5 TO         20 STEP          1

         16  ELEMENTS (OF         40  DEFINED) SELECTED BY  ESEL  COMMAND.
2020-07-27 13:14:32,334 [INFO] pyansys.mapdl: CM,ELEM_COMP,ELEM

 DEFINITION OF COMPONENT = ELEM_COMP  ENTITY=ELEM
2020-07-27 13:14:32,334 [INFO] pyansys.mapdl: NSEL,s,NODE,,5,20,,

 SELECT       FOR ITEM=NODE COMPONENT=
  IN RANGE         5 TO         20 STEP          1

         16  NODES (OF        321  DEFINED) SELECTED BY  NSEL  COMMAND.
2020-07-27 13:14:32,335 [INFO] pyansys.mapdl: CM,NODE_COMP,NODE

 DEFINITION OF COMPONENT = NODE_COMP  ENTITY=NODE
2020-07-27 13:14:32,336 [INFO] pyansys.mapdl: ALLSEL,,

 SELECT ALL ENTITIES OF TYPE= ALL  AND BELOW
2020-07-27 13:14:32,337 [INFO] pyansys.mapdl: /PREP7,

 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **

          ***** ANSYS ANALYSIS DEFINITION (PREP7) *****

 ENTER  /SHOW,DEVICE-NAME  TO ENABLE GRAPHIC DISPLAY
 ENTER  FINISH             TO LEAVE PREP7
 PRINTOUT KEY SET TO /GOPR (USE /NOPR TO SUPPRESS)
2020-07-27 13:14:32,338 [INFO] pyansys.mapdl: MP,EX,1,200000000000.0,,,,

 MATERIAL          1     EX   =  0.2000000E+12
2020-07-27 13:14:32,338 [INFO] pyansys.mapdl: MP,DENS,1,7800,,,,

 MATERIAL          1     DENS =   7800.000
2020-07-27 13:14:32,339 [INFO] pyansys.mapdl: MP,NUXY,1,0.3,,,,

 MATERIAL          1     NUXY =  0.3000000
2020-07-27 13:14:32,339 [INFO] pyansys.mapdl: EMODIF,ALL,MAT,1,,,,,,,

 MODIFY ALL SELECTED ELEMENTS TO HAVE  MAT  =         1
2020-07-27 13:14:32,340 [INFO] pyansys.mapdl: NSEL,S,LOC,Z,,,,

 SELECT       FOR ITEM=LOC  COMPONENT=Z     BETWEEN  0.0000     AND   0.0000
   KABS=  0.  TOLERANCE= 0.100000E-05

         21  NODES (OF        321  DEFINED) SELECTED BY  NSEL  COMMAND.
2020-07-27 13:14:32,341 [INFO] pyansys.mapdl: D,all,all,,,,,,,,,

 SPECIFIED CONSTRAINT UX   FOR SELECTED NODES            1 TO         321 BY           1
 REAL=  0.00000000       IMAG=  0.00000000
 ADDITIONAL DOFS=  UY    UZ
2020-07-27 13:14:32,341 [INFO] pyansys.mapdl: ALLSEL,,

 SELECT ALL ENTITIES OF TYPE= ALL  AND BELOW
2020-07-27 13:14:32,342 [INFO] pyansys.mapdl: MXPAND,,,,YES,,,


 EXPAND ALL EXTRACTED MODES
  CALCULATE ELEMENT RESULTS AND NODAL DOF SOLUTION
2020-07-27 13:14:32,342 [INFO] pyansys.mapdl: /SOLU,


 ***** ROUTINE COMPLETED *****  CP =         0.442



 *****  ANSYS SOLUTION ROUTINE  *****
2020-07-27 13:14:32,343 [INFO] pyansys.mapdl: ANTYPE,2,new,,,


 PERFORM A MODAL ANALYSIS
  THIS WILL BE A NEW ANALYSIS
2020-07-27 13:14:32,344 [INFO] pyansys.mapdl: MODOPT,lanb,6,,,,OFF,,,


 USE SYM. BLOCK LANCZOS MODE EXTRACTION METHOD
  EXTRACT    6 MODES
  NORMALIZE THE MODE SHAPES TO THE MASS MATRIX
2020-07-27 13:14:32,344 [INFO] pyansys.mapdl: BCSOPTION,,,

 *** NOTE ***                            CP =       0.445   TIME= 13:14:32
 Use of the BCSOPTION has been deprecated.  Please use the DSPOPTION
 command instead to control the sparse solver behavior.
2020-07-27 13:14:32,440 [INFO] pyansys.mapdl: SOLVE,

 *** NOTE ***                            CP =       0.449   TIME= 13:14:32
 The automatic domain decomposition logic has selected the MESH domain
 decomposition method with 2 processes per solution.

 *****  ANSYS SOLVE    COMMAND  *****

 *** NOTE ***                            CP =       0.451   TIME= 13:14:32
 There is no title defined for this analysis.

 *** SELECTION OF ELEMENT TECHNOLOGIES FOR APPLICABLE ELEMENTS ***
                ---GIVE SUGGESTIONS ONLY---

 ELEMENT TYPE    1 IS SOLID186. KEYOPT(2) IS ALREADY SET AS SUGGESTED.



 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **

                       S O L U T I O N   O P T I O N S

   PROBLEM DIMENSIONALITY. . . . . . . . . . . . .3-D
   DEGREES OF FREEDOM. . . . . . UX   UY   UZ
   ANALYSIS TYPE . . . . . . . . . . . . . . . . .MODAL
      EXTRACTION METHOD. . . . . . . . . . . . . .BLOCK LANCZOS
   NUMBER OF MODES TO EXTRACT. . . . . . . . . . .     6
   GLOBALLY ASSEMBLED MATRIX . . . . . . . . . . .SYMMETRIC
   NUMBER OF MODES TO EXPAND . . . . . . . . . . .ALL
   ELEMENT RESULTS CALCULATION . . . . . . . . . .ON

 *** NOTE ***                            CP =       0.453   TIME= 13:14:32
 Results printout suppressed for interactive execute.

 *** NOTE ***                            CP =       0.453   TIME= 13:14:32
 The conditions for direct assembly have been met.  No .emat or .erot
 files will be produced.



     D I S T R I B U T E D   D O M A I N   D E C O M P O S E R

  ...Number of elements: 40
  ...Number of nodes:    321
  ...Decompose to 2 CPU domains
  ...Element load balance ratio =     1.000


                      L O A D   S T E P   O P T I O N S

   LOAD STEP NUMBER. . . . . . . . . . . . . . . .     1
   THERMAL STRAINS INCLUDED IN THE LOAD VECTOR . .   YES
   PRINT OUTPUT CONTROLS . . . . . . . . . . . . .NO PRINTOUT
   DATABASE OUTPUT CONTROLS. . . . . . . . . . . .ALL DATA WRITTEN



                         ***********  PRECISE MASS SUMMARY  ***********

   TOTAL RIGID BODY MASS MATRIX ABOUT ORIGIN
               Translational mass               |   Coupled translational/rotational mass
         39000.        0.0000        0.0000     |     0.0000        97500.       -19500.
         0.0000        39000.        0.0000     |    -97500.        0.0000        19500.
         0.0000        0.0000        39000.     |     19500.       -19500.        0.0000
     ------------------------------------------ | ------------------------------------------
                                                |         Rotational mass (inertia)
                                                |    0.33800E+06   -9750.0       -48750.
                                                |    -9750.0       0.33800E+06   -48750.
                                                |    -48750.       -48750.        26000.

   TOTAL MASS =  39000.
     The mass principal axes coincide with the global Cartesian axes

   CENTER OF MASS (X,Y,Z)=   0.50000       0.50000        2.5000

   TOTAL INERTIA ABOUT CENTER OF MASS
         84500.      -0.49072E-11  -0.29301E-10
       -0.49072E-11    84500.      -0.37526E-10
       -0.29301E-10  -0.37526E-10    6500.0
     The inertia principal axes coincide with the global Cartesian axes


  *** MASS SUMMARY BY ELEMENT TYPE ***

  TYPE      MASS
     1   39000.0

 Range of element maximum matrix coefficients in global coordinates
 Maximum = 9.116809117E+10 at element 32.
 Minimum = 9.116809117E+10 at element 4.

   *** ELEMENT MATRIX FORMULATION TIMES
     TYPE    NUMBER   ENAME      TOTAL CP  AVE CP

        1        40  SOLID186      0.008   0.000201
 Time at end of element matrix formulation CP = 0.486009002.

  BLOCK LANCZOS CALCULATION OF UP TO     6 EIGENVECTORS.
  NUMBER OF EQUATIONS              =          900
  MAXIMUM WAVEFRONT                =          225
  MAXIMUM MODES STORED             =            6
  MINIMUM EIGENVALUE               =  0.00000E+00
  MAXIMUM EIGENVALUE               =  0.10000E+31


  Local memory allocated for solver              =      1.626 MB
  Local memory required for in-core solution     =      1.410 MB
  Local memory required for out-of-core solution =      1.053 MB

  Total memory allocated for solver              =      3.063 MB
  Total memory required for in-core solution     =      2.656 MB
  Total memory required for out-of-core solution =      2.012 MB

 *** NOTE ***                            CP =       0.554   TIME= 13:14:32
 The Distributed Sparse Matrix Solver used by the Block Lanczos
 eigensolver is currently running in the in-core memory mode.  This
 memory mode uses the most amount of memory in order to avoid using the
 hard drive as much as possible, which most often results in the
 fastest solution time.  This mode is recommended if enough physical
 memory is present to accommodate all of the solver data.
 curEqn=    482  totEqn=    482 Job CP sec=      0.366
      Factor Done= 100% Factor Wall sec=      0.004 rate=    2127.3 Mflops

 *** ANSYS - ENGINEERING ANALYSIS SYSTEM  RELEASE                  20.1BETA ***
 DISTRIBUTED ANSYS Mechanical Enterprise

 88888888  VERSION=LINUX x64     13:14:32  JUL 27, 2020 CP=      0.622





 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **

 *** FREQUENCIES FROM BLOCK LANCZOS ITERATION ***

  MODE    FREQUENCY (HERTZ)


    1     32.13951614479
    2     32.13951614484
    3     145.4783895431
    4     173.4557943042
    5     173.4557943042
    6     254.8511237205


 *** ANSYS BINARY FILE STATISTICS
  BUFFER SIZE USED= 16384
        0.438 MB WRITTEN ON ASSEMBLED MATRIX FILE: file0.full
        0.062 MB WRITTEN ON MODAL MATRIX FILE: file0.mode
        0.312 MB WRITTEN ON RESULTS FILE: file0.rst
2020-07-27 13:14:32,566 [INFO] pyansys.mapdl: FINISH,

 *****  ANSYS FINISH   COMMAND  *****

 *** NOTE ***                            CP =       0.633   TIME= 13:14:32
 Results printout suppressed for interactive execute.

 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **


   *** ELEMENT RESULT CALCULATION TIMES
     TYPE    NUMBER   ENAME      TOTAL CP  AVE CP

        1        40  SOLID186      0.008   0.000206

   *** NODAL LOAD CALCULATION TIMES
     TYPE    NUMBER   ENAME      TOTAL CP  AVE CP

        1        40  SOLID186      0.001   0.000021

 *** ANSYS - ENGINEERING ANALYSIS SYSTEM  RELEASE                  20.1BETA ***
 DISTRIBUTED ANSYS Mechanical Enterprise

 88888888  VERSION=LINUX x64     13:14:32  JUL 27, 2020 CP=      0.670





 ** WARNING: PRE-RELEASE VERSION OF ANSYS 20.1BETA
  ANSYS,INC TESTING IS NOT COMPLETE - CHECK RESULTS CAREFULLY **



          ***** PARTICIPATION FACTOR CALCULATION *****  X  DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01   -92.408        0.748010     8539.17        0.269185        0.218953
     2     32.1395       0.31114E-01    123.54        1.000000     15261.6        0.750285        0.391324
     3     145.478       0.68739E-02    0.0000        0.000000     0.00000        0.750285         0.00000
     4     173.456       0.57652E-02   -73.460        0.594637     5396.41        0.920399        0.138370
     5     173.456       0.57652E-02   -50.251        0.406764     2525.14         1.00000        0.647472E-01
     6     254.851       0.39239E-02    0.0000        0.000000     0.00000         1.00000         0.00000
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             31722.3                        0.813393
 -----------------------------------------------------------------------------------------------------------------



          ***** PARTICIPATION FACTOR CALCULATION *****  Y  DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01    123.54        1.000000     15261.6        0.481100        0.391324
     2     32.1395       0.31114E-01    92.408        0.748010     8539.17        0.750285        0.218953
     3     145.478       0.68739E-02    0.0000        0.000000     0.00000        0.750285         0.00000
     4     173.456       0.57652E-02    50.251        0.406764     2525.14        0.829886        0.647472E-01
     5     173.456       0.57652E-02   -73.460        0.594637     5396.41         1.00000        0.138370
     6     254.851       0.39239E-02    0.0000        0.000000     0.00000         1.00000         0.00000
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             31722.3                        0.813393
 -----------------------------------------------------------------------------------------------------------------



          ***** PARTICIPATION FACTOR CALCULATION *****  Z  DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01    0.0000        0.000000     0.00000         0.00000         0.00000
     2     32.1395       0.31114E-01    0.0000        0.000000     0.00000         0.00000         0.00000
     3     145.478       0.68739E-02    0.0000        0.000000     0.00000         0.00000         0.00000
     4     173.456       0.57652E-02    0.0000        0.000000     0.00000         0.00000         0.00000
     5     173.456       0.57652E-02    0.0000        0.000000     0.00000         0.00000         0.00000
     6     254.851       0.39239E-02    177.08        1.000000     31356.4         1.00000        0.804010
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             31356.4                        0.804010
 -----------------------------------------------------------------------------------------------------------------



          ***** PARTICIPATION FACTOR CALCULATION *****ROTX DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01   -452.14        1.000000     204434.        0.610698        0.604833
     2     32.1395       0.31114E-01   -338.21        0.748010     114384.        0.952396        0.338415
     3     145.478       0.68739E-02    0.0000        0.000000     0.00000        0.952396         0.00000
     4     173.456       0.57652E-02   -50.803        0.112360     2580.94        0.960106        0.763591E-02
     5     173.456       0.57652E-02    74.267        0.164256     5515.66        0.976582        0.163185E-01
     6     254.851       0.39239E-02    88.539        0.195820     7839.10         1.00000        0.231926E-01
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             334754.                        0.990395
 -----------------------------------------------------------------------------------------------------------------



          ***** PARTICIPATION FACTOR CALCULATION *****ROTY DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01   -338.21        0.748010     114384.        0.341697        0.338415
     2     32.1395       0.31114E-01    452.14        1.000000     204434.        0.952396        0.604833
     3     145.478       0.68739E-02    0.0000        0.000000     0.00000        0.952396         0.00000
     4     173.456       0.57652E-02   -74.267        0.164256     5515.66        0.968873        0.163185E-01
     5     173.456       0.57652E-02   -50.803        0.112360     2580.94        0.976582        0.763591E-02
     6     254.851       0.39239E-02   -88.539        0.195820     7839.10         1.00000        0.231926E-01
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             334754.                        0.990395
 -----------------------------------------------------------------------------------------------------------------



          ***** PARTICIPATION FACTOR CALCULATION *****ROTZ DIRECTION
                                                                                  CUMULATIVE     RATIO EFF.MASS
  MODE   FREQUENCY       PERIOD      PARTIC.FACTOR     RATIO    EFFECTIVE MASS   MASS FRACTION   TO TOTAL MASS
     1     32.1395       0.31114E-01    107.97        1.000000     11658.1        0.552416        0.448389
     2     32.1395       0.31114E-01   -15.565        0.144158     242.275        0.563896        0.931825E-02
     3     145.478       0.68739E-02    72.407        0.670601     5242.73        0.812320        0.201643
     4     173.456       0.57652E-02    61.856        0.572881     3826.10        0.993619        0.147158
     5     173.456       0.57652E-02   -11.605        0.107478     134.670         1.00000        0.517963E-02
     6     254.851       0.39239E-02    0.0000        0.000000     0.00000         1.00000         0.00000
 -----------------------------------------------------------------------------------------------------------------
   sum                                                             21103.9                        0.811688
 -----------------------------------------------------------------------------------------------------------------





 *** NOTE ***                            CP =       0.670   TIME= 13:14:32
 The modes requested are mass normalized (Nrmkey on MODOPT).  However,
 the modal masses and kinetic energies below are calculated with unit
 normalized modes.

        ***** MODAL MASSES, KINETIC ENERGIES, AND TRANSLATIONAL EFFECTIVE MASSES SUMMARY *****

                                                                         EFFECTIVE MASS
  MODE  FREQUENCY   MODAL MASS     KENE      |      X-DIR      RATIO%   Y-DIR      RATIO%   Z-DIR      RATIO%
     1   32.14      0.1566E+05  0.3193E+09   |     8539.       21.90  0.1526E+05   39.13   0.000        0.00
     2   32.14      0.1566E+05  0.3193E+09   |    0.1526E+05   39.13   8539.       21.90   0.000        0.00
     3   145.5      0.1290E+05  0.5390E+10   |     0.000        0.00   0.000        0.00   0.000        0.00
     4   173.5      0.1780E+05  0.1057E+11   |     5396.       13.84   2525.        6.47   0.000        0.00
     5   173.5      0.1780E+05  0.1057E+11   |     2525.        6.47   5396.       13.84   0.000        0.00
     6   254.9      0.1929E+05  0.2473E+11   |     0.000        0.00   0.000        0.00  0.3136E+05   80.40
 --------------------------------------------------------------------------------------------------------------
   sum                                       |    0.3172E+05   81.34  0.3172E+05   81.34  0.3136E+05   80.40
 --------------------------------------------------------------------------------------------------------------


 *** ANSYS BINARY FILE STATISTICS
  BUFFER SIZE USED= 16384
        0.438 MB WRITTEN ON ASSEMBLED MATRIX FILE: file0.full
        0.062 MB WRITTEN ON MODAL MATRIX FILE: file0.mode
        0.625 MB WRITTEN ON RESULTS FILE: file0.rst

 FINISH SOLUTION PROCESSING

 RESULTS WRITTEN TO FILE: file.mode
    TOTAL SIZE =        0.438 MB

 RESULTS WRITTEN TO FILE: file0.mode
    TOTAL SIZE =        0.250 MB


 ***** ROUTINE COMPLETED *****  CP =         0.845

[(6.295554957734411, 6.295554957734411, 8.29555495773441),
 (0.5, 0.5, 2.5),
 (0.0, 0.0, 1.0)]
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pyansys</span> <span class="kn">import</span> <span class="n">examples</span>
<span class="kn">import</span> <span class="nn">pyansys</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;I_MPI_SHM_LMT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;shm&#39;</span>  <span class="c1"># necessary on ubuntu</span>
<span class="n">mapdl</span> <span class="o">=</span> <span class="n">pyansys</span><span class="o">.</span><span class="n">launch_mapdl</span><span class="p">(</span><span class="n">override</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">mapdl</span><span class="o">.</span><span class="n">cdread</span><span class="p">(</span><span class="s1">&#39;db&#39;</span><span class="p">,</span> <span class="n">examples</span><span class="o">.</span><span class="n">hexarchivefile</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">esel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;ELEM&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">cm</span><span class="p">(</span><span class="s1">&#39;ELEM_COMP&#39;</span><span class="p">,</span> <span class="s1">&#39;ELEM&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">nsel</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;NODE&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">cm</span><span class="p">(</span><span class="s1">&#39;NODE_COMP&#39;</span><span class="p">,</span> <span class="s1">&#39;NODE&#39;</span><span class="p">)</span>

<span class="c1"># boundary conditions</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">allsel</span><span class="p">()</span>

<span class="c1"># dummy steel properties</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">prep7</span><span class="p">()</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;EX&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">200E9</span><span class="p">)</span>  <span class="c1"># Elastic moduli in Pa (kg/(m*s**2))</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;DENS&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7800</span><span class="p">)</span>  <span class="c1"># Density in kg/m3</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">mp</span><span class="p">(</span><span class="s1">&#39;NUXY&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>  <span class="c1"># Poissons Ratio</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">emodif</span><span class="p">(</span><span class="s1">&#39;ALL&#39;</span><span class="p">,</span> <span class="s1">&#39;MAT&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># fix one end of the beam</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">nsel</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;LOC&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">d</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">allsel</span><span class="p">()</span>

<span class="n">mapdl</span><span class="o">.</span><span class="n">mxpand</span><span class="p">(</span><span class="n">elcalc</span><span class="o">=</span><span class="s1">&#39;YES&#39;</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">modal_analysis</span><span class="p">(</span><span class="n">nmode</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">mapdl</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>

<span class="c1"># view the results using pyansys&#39;s result viewer</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">mapdl</span><span class="o">.</span><span class="n">result</span>
<span class="n">result</span><span class="o">.</span><span class="n">animate_nodal_solution</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">show_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                              <span class="n">movie_filename</span><span class="o">=</span><span class="s1">&#39;demo.gif&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  36.154 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-02-mapdl-examples-mapdl-3d-beam-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/22f48a4cba202f6a451107ab70bf7b8e/mapdl_3d_beam.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">mapdl_3d_beam.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/1d97ff76e7df48c8c05a0d471db60466/mapdl_3d_beam.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">mapdl_3d_beam.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mapdl_beam.html" class="btn btn-neutral float-right" title="MAPDL 2D Beam Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../01-cyclic_results/sector_model.html" class="btn btn-neutral float-left" title="Cyclic Model Visualization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alex Kaszynski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>