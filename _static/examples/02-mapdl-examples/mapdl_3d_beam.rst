.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_02-mapdl-examples_mapdl_3d_beam.py>`     to download the full example code
    .. rst-class:: sphx-glr-example-title

    .. _sphx_glr_examples_02-mapdl-examples_mapdl_3d_beam.py:


.. _ref_3d_beam:

MAPDL 3D Beam Example
~~~~~~~~~~~~~~~~~~~~~

This is a simple example that loads an archive file containing a beam
and then runs a modal analysis using the simplified ``modal_analysis``
method.



.. image:: /examples/02-mapdl-examples/images/sphx_glr_mapdl_3d_beam_001.png
    :alt: mapdl 3d beam
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none


    [(6.295554957734411, 6.295554957734411, 8.29555495773441),
     (0.5, 0.5, 2.5),
     (0.0, 0.0, 1.0)]





|


.. code-block:: default


    import os
    from pyansys import examples
    import pyansys

    os.environ['I_MPI_SHM_LMT'] = 'shm'  # necessary on ubuntu
    mapdl = pyansys.launch_mapdl(override=True, additional_switches='-smp')

    mapdl.cdread('db', examples.hexarchivefile)
    mapdl.esel('s', 'ELEM', vmin=5, vmax=20)
    mapdl.cm('ELEM_COMP', 'ELEM')
    mapdl.nsel('s', 'NODE', vmin=5, vmax=20)
    mapdl.cm('NODE_COMP', 'NODE')

    # boundary conditions
    mapdl.allsel()

    # dummy steel properties
    mapdl.prep7()
    mapdl.mp('EX', 1, 200E9)  # Elastic moduli in Pa (kg/(m*s**2))
    mapdl.mp('DENS', 1, 7800)  # Density in kg/m3
    mapdl.mp('NUXY', 1, 0.3)  # Poissons Ratio
    mapdl.emodif('ALL', 'MAT', 1)

    # fix one end of the beam
    mapdl.nsel('S', 'LOC', 'Z')
    mapdl.d('all', 'all')
    mapdl.allsel()

    mapdl.mxpand(elcalc='YES')
    mapdl.modal_analysis(nmode=6)
    mapdl.exit()

    # view the results using pyansys's result viewer
    result = mapdl.result
    result.animate_nodal_solution(0, show_edges=True, loop=False, displacement_factor=10,
                                  movie_filename='demo.gif')


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  32.394 seconds)


.. _sphx_glr_download_examples_02-mapdl-examples_mapdl_3d_beam.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: mapdl_3d_beam.py <mapdl_3d_beam.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: mapdl_3d_beam.ipynb <mapdl_3d_beam.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
